
<html lang="en">

    <head>
        <meta charset="utf-8">
        <title>PyLadies 05-05 – Spolupráce &amp; Open Source</title>

        <link rel="stylesheet" href="../css/bootstrap.css">
        <link rel="stylesheet" href="../css/pyladies.css">
        <style></style>
    </head>

    <body class="no-reveal">

        <div class="container">
            <div class="no-reveal header">
                <h3 class="text-muted" id="show-all">PyLadies Brno</h3>
            </div>
            <div class="slides row stuff">
                <section class="col-lg-12">
                    <section>
                        <h1>Spolupráce</h1>
                        <div>
                            „Opravdové” programy zřídka vznikají prací jednoho
                            člověka.
                            Víc hlav víc ví, a tak je dobré si na projekt
                            vytvořit tým.
                        </div>
                        <div>
                            Každý člen týmu potřebuje mít přístup k práci
                            ostatních.
                            K tomu se dá použít Git: někde na internetu
                            si zařídíme <em>sdílený repozitář</em>,
                            se kterým se všichni budou synchronizovat.
                        </div>
                        <div class="note">
                            Pokud materiály čteš z domu, a máš možnost se
                            v budoucnu dostat na nějaký sraz, zatím tuhle sekci
                            přeskoč.
                            Na sraze pak popros zkušenější
                            programátorku (nebo programátora), aby ti pomohla.
                            (Nechystáš-li se na sraz, můžeš pokračovat –
                            zvládnout se to dá.)
                        </div>
                        <div class="note">
                            Pro kouče: Udělej na GitHubu repozitář jménem
                            <code>prezencka</code>, a dej do
                            něj soubor se svým jménem. Příklad je na
                            <tt>https://github.com/encukou/prezencka</tt>.
                            Nasdílej s účastnicemi příkaz na jeho naklonování
                            (přes https).
                        </div>
                        <div>
                            Pro začátek zkusíme práci s repozitářem, který už
                            vytvořil někdo jiný.
                            V příkazové řádce zadej příkaz, který ti oznámí
                            kouč; něco jako
<pre>
git clone https://github.com/<i>encukou</i>/prezencka
</pre>
                            Vytvoří se ti nový repozitář – adresář jménem
                            <code>prezencka</code>, ve kterém je nějaký
                            soubor.
                        </div>
                        <div class="note">
                            Na URL (adresu), kterou jsi v tomhle příkladě
                            použila, se můžeš podívat i v prohlížeči.
                            Uvidíš seznam souborů, a spoustu odkazů k
                            informacím o repozitáři (například pod „commits”
                            je historie).
                        </div>
                        <div>
                            Přepni se do nového adresáře (<code>cd prezencka</code>),
                            a zkus se podívat na historii (<code>gitk</code>
                            nebo <code>git log</code>).
                            Možná je krátká, ale hlavně, že nějaká je.
                            Máš na počítači kopii projektu,
                            který založil někdo jiný!
                        </div>
                    </section>
                    <section>
                        <h2>Posílání změn <small>(<code>git push</code>)</small></h2>
                        <p>
                            Teď se do projektu zapoj.
                            Přidej soubor se svým jménem (nebo přezdívkou),
                            a dej ho do gitu (<code>git add jmeno.txt</code>,
                            <code>git commit</code>).
                        </p>
                        <p>
                            Teď zbývá „jen” změnu začlenit do původního
                            sdíleného repozitáře.
                            To ale není jen tak: repozitář, který jsi
                            naklonovala, patří koučovi, a tomu by se asi
                            nelíbilo, kdyby kdokoliv na internetu mohl přijít
                            a nahrát mu do repozitáře změny.
                        </p>
                        <p>
                            Spousta míst na internetu funguje tak, že vybraná
                            skupina lidí má „přístup”: můžou dělat změny,
                            jak se jim líbí.
                        </p>
                        <p>
                            S Gitem se používá jiný přístup:
                            změny nahraješ do <em>vlastního</em> sdíleného
                            repozitáře, a majiteli původního projektu napíšeš
                            žádost o začlenění těch změn (angl. <em>pull request</em>).
                            Může to být třeba mail se slovy „Hele, na té a té
                            adrese mám nějaké změny, které by se ti mohly hodit!
                            Přidej je do svého projektu!”
                        </p>
                        <p>
                            Výhoda je v tom, že se do projektu – pokud je
                            veřejný – může zapojit kdokoliv. Nemusíš se
                            předem ptát, nemusíš dokazovat že jsi důvěryhodná
                            osoba, stačí něco změnit a poslat.
                            Jestli se změna bude autorům projektu líbit nebo
                            ne, to už je jiná věc. Ale záleží hlavně na samotné
                            změně, ne na tom, kdo ji udělal.
                        </p>
                        <p>
                            Služba <a href="https://github.com/">github.com</a>
                            ti umožňuje udělat si
                            vlastní sdílený repozitář, a zjednodušuje
                            začleňování změn (místo posílání mailů stačí
                            zmáčknout tlačítko). Pojďme se podívat, jak na to.
                        </p>
                        <p class="note">
                            Podobných služeb existuje víc (např.
                            <a href="https://bitbucket.org/">bitbucket.org</a>,
                            <a href="https://gitlab.com/">gitlab.com</a>).
                            Všechny fungují podobně; GitHub je momentálně
                            nejpopulárnější.
                        </p>
                        <p>
                            Udělej si účet na GitHubu (jestli ho ještě nemáš),
                            a pak zajdi na adresu, kterou jsi použila pro
                            <code>git clone</code>.
                            Vlevo nahoře naji tlačítko „Fork”, a klikni na něj.
                            Tím si vytvoříš na GitHubu vlastní kopii repozitáře:
                            adresa by měla být něco jako
                            <code>https://github.com/<i>tvojejmeno</i>/prezencka</code>.
                        </p>
                        <p class="note">
                            Kdybys měla v různých kopiích repozitáře zmatek,
                            přijde vhod malé vysvětlení: jedna kopie je původní
                            projekt na GitHubu, kam správce projektu dává
                            aktuální "oficiální verzi". Další kopie na GitHubu
                            je "tvoje" a můžeš si s do ní nahrát co chceš
                            (nejčastěji v ní ale zveřejňuješ změny, které můžou
                            být užitečné pro ostatní). A třetí kopii repozitáře
                            máš u sebe na počítači.
                            <br>
                            <a href="../s009-git/gh-workflow-diagram.svg">
                                <img src="../s009-git/gh-workflow-diagram.svg" style="max-width:100%;">
                            </a>
                        </p>
                        <p>
                            A teď, jak z tvého počítače nahrát změny na GitHub?
                            Git si u každého repozitáře na tvém počítači
                            pamatuje adresy, odkud se dají stahovat
                            a kam se dají posílat změny.
                            Seznam těchhle adres ti ukáže příkaz <code>git remote -v</code>.
                            Třeba:
<pre>
$ git remote -v
origin  https://github.com/encukou/prezencka (fetch)
origin  https://github.com/encukou/prezencka (push)
</pre>
                            Tenhle výstup znamená, že pod zkratkou „origin”
                            se schovává adresa, ze které jsi repozitář
                            naklonovala.
                        </p>
                        <p>
                            Přidej si podobnou zkratku pro vlastní repozitář
                            na GitHubu.
                            Nezapomeň nahradit <i>tvojejmeno</i> za jméno účtu,
                            který máš na GitHubu ty:
<pre>
$ git remote add <i>tvojejmeno</i> https://github.com/<i>tvojejmeno</i>/prezencka
</pre>
                            a zkontroluj si, že se to povedlo:
<pre>
$ git remote -v
origin  git@github.com:encukou/prezencka.git (fetch)
origin  git@github.com:encukou/prezencka.git (push)
<i>tvojejmeno</i>      https://github.com/<i>tvojejmeno</i>/prezencka (fetch)
<i>tvojejmeno</i>      https://github.com/<i>tvojejmeno</i>/prezencka (push)
</pre>
                        </p>
                        <p>
                            Tolik k nastavení – <code>git remote add</code>
                            stačí udělat jednou pro každý repozitář.
                            Pak už můžeš změny nahrávat pomocí:
<pre>
$ git push <i>tvojejmeno</i> master
</pre>
                            což znamená: pošli na adresu uloženou pod zkratkou
                            <code><i>tvojejmeno</i></code>
                            větev <code>master</code>.
                        </p>
                        <p>
                            Funguje? Podívej se na
                            <code>https://github.com/<i>tvojejmeno</i>/prezencka</code>
                            v prohlížeči, a ujisti se že tam tvoje změny jsou.
                        </p>
                    </section>
                    <section>
                        <h2>Žádost o začlenění <small>(<em>pull request</em>)</small></h2>
                        <p>
                            Teď zbývá požádat autory původního projektu,
                            aby změny z tvého sdíleného repozitáře přidali
                            do svojí kopie.
                            GitHub na to má vlastní mechanismus zvaný
                            <em>pull request</em> (žádost o začlenění).
                        </p>
                        <p>
                            Jdi na stránku původniho projektu (na adresu,
                            kterou jsi použila na začátku pro
                            <code>git clone</code>).
                            Měla bys tam vidět oznámení o své nově nahrané větvi
                            s velkým zeleným tlačítkem
                            <code>Compare &amp; pull request</code>.
                            Klikni na něj; pokud chceš, tak dopiš/změň popisek
                            toho, co tahle změna obnáší, a zmáčkni další
                            tlačítko.
                        </p>
                        <p>
                            Hotovo; teď je na autorech projektu, aby
                            se na změny podívali a přijali – nebo začali diskusi
                            o tom, jak je ještě vylepšit.
                            (Diskutovat se dá na stránce <em>pull requestu</em>,
                            nebo přes mail.)
                        </p>
                        <p class="note">
                            Procházíš-li materiály z domu, musíš teď počkat,
                            než si někdo tvé žádosti všimne a začlení ji.
                            To může trvat i pár dní; kdyby to bylo přes týden
                            tak se zkus ozvat znovu.
                        </p>
                    </section>
                    <section>
                        <h2>Aktualizace <small>(<code>git pull</code>)</small></h2>
                        <p>
                            Když budou tvé změny – a změny od ostatních –
                            začleněné, můžeš si aktualizovat repozitář,
                            který máš u sebe na počítači, příkazem
                            <code>git pull origin master</code> (stáhni změny
                            z větve „master” z adresy pod zkratkou „origin”).
                            Pomocí <code>gitk</code> nebo <code>git log</code>
                            se můžeš podívat, jak se projekt mezitím vyvinul.
                        </p>
                    </section>
                    <section>
                        <h2>Hlášení chyb <small>(<em>issues</em>)</small></h2>
                        <p>
                            Občas nastane situace, kdy v nějakém projektu
                            na GitHubu najdeš chybu, ale nemáš čas nebo
                            znalosti, abys ji opravila. V takovém případě
                            zajdi na GitHub, kde pod záložkou <em>Issues</em>
                            najdeš seznam nahlášených problémů.
                            Nenajdeš-li mezi nimi „svoji” chybu, můžeš ji
                            nahlásit – stačí kliknout na <em>New Issue</em>
                            a můžeš psát, kdy chyba nastává, co program dělá
                            špatně a co by měl dělat místo toho.
                        </p>
                        <p class="note">
                            Některé projekty nepoužívají Issues na GitHubu.
                            Kdybys záložku Issues nenašla, podívej se
                            do dokumentace projektu, jestli tam není odkaz na
                            seznam chyb.
                        </p>
                    </section>
                    <section>
                        <h1>Open Source</h1>
                        <p>
                            Možná se teď ptáš, jestli je opravdu nutné kód,
                            který napíšeš, dávat takhle veřejně k dispozici.
                            Nutné to samozřejmě není – Git se dá používat i
                            v uzavřeném týmu – ale na druhou stranu,
                            máš důvod proč to nedělat?
                        </p>
                        <p>
                            Spousta programů je tzv. <em>open source</em>
                            (s otevřeným zdrojovým kódem): jsou to projekty
                            nasdílené na internetu, které si kdokoli může
                            stáhnout a používat, učit se z nich, přizpůsobit
                            si je, nebo se přímo zapojit a vylepšovat je.
                        </p>
                        <p>
                            Ne všechny jsou v Pythonu (a těm co jsou zatím
                            nebudeš všem rozumět); ne všechny jsou na GitHubu
                            (ani v Gitu). Ne všechny jsou kvalitní – protože si
                            každý může zveřejnit co chce, na GitHubu se
                            válí spousta nedodělků, opuštěných nápadů a
                            nepodařených experimentů.
                            A bohužel, ne všechny projekty mají přátelské autory.
                        </p>
                        <p>
                            Na druhou stranu ale open-source programy
                            mají svoje výhody: nejenom se z nich může kdokoli
                            učit, ale každý může i zkontrolovat, jestli
                            dělají to co dělat mají.
                            Populární open-source programy tě například
                            pravděpodobně nebudou špehovat (tj. hlásit autorovi,
                            co na počítači děláš), ani většinou neobsahují
                            reklamy: kdyby to dělaly, najde se
                            někdo kdo tyhle „funkce” odstraní, a lidi – časem –
                            začnou používat opravenou verzi.
                        </p>
                        <p>
                            Některé příklady populárních open-source projektů:
                            <ul>
                                <li>
                                    <a href="https://github.com/mozilla/gecko-dev">Mozilla Firefox</a>,
                                    <a href="https://chromium.googlesource.com/chromium/src.git">Chromium</a>
                                    (prohlížeče)
                                </li>
                                <li>
                                    <a href="https://github.com/atom/atom">Atom</a>,
                                    <a href="https://github.com/GNOME/gedit">gedit</a>
                                    (textové editory)
                                </li>
                                <li><a href="https://github.com/python/cpython">CPython</a> (jazyk Python)</li>
                                <li>
                                    <a href="https://github.com/torvalds/linux">Linux</a>,
                                    <a href="https://github.com/android">Android</a>
                                    (jádra operačních systémů)
                                </li>
                                <li><a href="https://github.com/pytest-dev/pytest/">Pytest</a> (pythoní knihovna na testování)</li>
                                <li>
                                    <a href="https://github.com/django/django">Django</a>,
                                    <a href="https://github.com/mitsuhiko/flask">Flask</a>,
                                    <a href="https://github.com/kennethreitz/requests">Requests</a> (webové knihovny pro Python)
                                </li>
                                <li>
                                    <a href="https://github.com/numpy/numpy">Numpy</a>,
                                    <a href="https://github.com/jupyter/notebook">Jupyter</a>,
                                    <a href="https://github.com/matplotlib/matplotlib">Matplotlib</a>
                                    (pythoní knihovny pro vědce a analytiky)
                                </li>
                                <li><a href="https://github.com/PyLadiesCZ/pyladies.cz">Materiály</a> k tomuto kurzu</li>
                            </ul>
                        </p>
                        <p>
                            A jak vidno z posledního příkladu, nejen softwarové
                            projekty se dají vést takhle veřejně.
                            Tento kurz vychází z principů open source:
                            všechno know-how je sdílené, a budeme rádi, když
                            se zapojíš.
                        <p>
                        </p>
                            Až příště uvidíš v materiálech chybu (nebo jestli
                            o nějaké víž už teď), zkus si naklonovat
                            <a href="https://github.com/PyLadiesCZ/pyladies.cz">příslušný repozitář</a>,
                            a chybu opravit!
                        </p>
                    </section>
                    <section>
                        <h2>Licence a jazyk</h2>
                        <p>
                            Aby to všechno fungovalo i pro právní stránce,
                            nestačí když nahraješ kus kódu na Internet;
                            musíš taky oficiálně oznámit, že si s ním ostatní
                            můžou hrát.
                            Bez <em>licence</em> totiž nemá nikdo právo tvůj
                            program ani používat, natož vylepšovat.
                            A s licencemi je to, bohužel, docela složité.
                        </p>
                        <p>
                            Když to ale zjednodušíme na minimum, budeš
                            chtít jen zajistit, aby každý mohl tvůj výtvor
                            používat, učit se z něj, předávat ho dál,
                            a vylepšovat ho. V tom případě vyber třeba
                            licenci MIT.
                        </p>
                        <p class="note">
                            Pokud chceš navíc zabránit tomu, že si tvůj kód
                            někdo vezme a začne ho "vylepšovat" a vydělávat na
                            něm, aniž by se o vylepšení podělil s ostatními,
                            zkus licenci AGPL.
                        </p>
                        <p class="note">
                            A tyto materiály jsou pod ještě jinou licencí –
                            tzv. CC-BY-SA – protože výše jmenované licence
                            jsou dělané na programy, ne na text.
                        </p>
                        <p>
                            Kód se nejčastěji licencuje tak, že text licence
                            dáš do souboru jménem <code>LICENSE</code>,
                            a přidáš do Gitu.
                        </p>
                        <p>
                            Chceš-li si o licencích přečíst něco víc,
                            odkážu tě na
                            <a href="http://choosealicense.com/">choosealicense.com</a>,
                            případně
                            <a href="http://creativecommons.org/choose/">creativecommons.org</a>
                            a
                            <a href="https://opensource.org/licenses">opensource.org</a>.
                        </p>
                        <p>
                            A nakonec – aby se do projektu mohl zapojit
                            kdokoli z celého světa, bývají open-source projekty
                            v angličtině.
                            Jména proměnných, komentáře, dokumentace – všechno
                            je primárně v anglické verzi.
                            Tenhle kurz je česky, aby byly začátky jednodušší,
                            ale jestli se ti programování zalíbilo a chceš
                            v něm po kurzu pokračovat dál, bez angličtiny
                            to bude velice složité.
                        </p>
                    </section>
                </section>
            </div>
            <div class="no-reveal footer">
                <div>pro PyLadies Brno napsal Petr Viktorin, 2015</div>
                <div>Licence: <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a></div>
            </div>
        </div>

        <script type="text/javascript" src="../js/solutions.js"></script>

    </body>
</html>
