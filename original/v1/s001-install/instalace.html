<html>
    <head>
        <meta charset="utf-8">
        <title>PyLadies 01-03 – Instalace</title>
        <link rel="stylesheet" href="../css/bootstrap.css">
        <link rel="stylesheet" href="../css/pyladies.css">
    </head>
    <body>
        <div class="container">
            <div class="header">
                <h3 class="text-muted">PyLadies Brno</h3>
            </div>
            <div class="row stuff">
                <div class="col-lg-12">
                    <h1>Instalace</h1>
                    <div>
                        Teď uděláme tři věci:
                    </div>
                    <ul>
                        <li>Nainstalujeme Python a Virtualenv</li>
                        <li>Vytvoříme si virtuální prostředí pro práci v Pythonu</li>
                        <li>Spustíme Python</li>
                    </ul>
                    <div>
                        Instalace je na celé věci nejsložitější,
                        protože se na každém počítači musí dělat trochu jinak,
                        a někdy vyžaduje znalosti, které teď nemáme čas vysvětlit.
                        Ale na druhou stranu se musí udělat jenom jednou.
                        Příště to bude jednodušší!
                    </div>
                    <div>
                        Pokud máš jiný systém než Windows nebo Linux (např. macOS),
                        nebo pokud ke svému počítači neznáš administrátorské heslo (např. u RHEL CSB),
                        poraď se s koučem hned, jinak se ptej, až bude něco nejasné.
                        Nejsi-li na srazu, zeptej se přes e-mail.
                    </div>
                </div>
                <div class="col-lg-12">
                    <h1>Instalace Pythonu</h1>
                    <h3>Windows</h3>
                    <p>
                        Běž na <a href="https://www.python.org/downloads/">stahovací stránku Pythonu</a>
                        a stáhni si instalátor nejnovější stabilní verze Pythonu. Od verze 3.6.0 má Python ve Windows jistá
                        vylepšení, která se nám budou hodit, a proto stahuj jen verzi <strong>3.6.0 nebo novější</strong>.
                        <br>
                        Jak poznat, který instalátor je ten pravý?
                        Pokud má tvůj počítač 64bitovou verzi Windows, stáhni si <em>Windows x86-64 executable installer</em>.
                        Pokud máš starší počítač s 32bitovými Windows, stáhni si <em>Windows x86 executable installer</em>.
                    </p>
                    <div class="note">
                        Kde zjistíš, zda máš 32bitové nebo 64bitové Windows? Stačí otevřít nabídku <strong>Start</strong>,
                        vyhledat „Systém“ a otevřít <strong>Systémové informace</strong>. Pokud máš novější počítač, téměř jistě budeš
                        mít 64bitový systém.
                    </div>
                    <div class="text-center"><img src="./windows_32v64-bit.png"></img></div>
                    <br>
                    <p>
                        Pak instalátor spusť a drž se instrukcí.
                        Nezapomeň na začátku instalace zaškrtnout <em>Install launcher for all Users</em>
                        a také <em>Add Python 3.6 to PATH</em>,
                        zjednoduší to pak vytvoření virtuálního prostředí.
                    </p>
                    <div class="text-center"><img src="./windows_add_python_to_path.png"></img></div>

                    <h3>macOS</h3>
                    <p>
                        Nainstalujeme si nástroj <em>homebrew</em>. <a href="http://brew.sh">Homebrew</a> za nás řeší a zjednodušuje instalaci aplikací a knihoven, které budeme potřebovat pro programování.
                    </p>

                    <p>
                        Spusť v příkazové řádce příkaz:
                    </p>

<pre>
$ <b>/usr/bin/ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"</b>
</pre>

                    <p>
                        Pak už stačí zadat následující příkaz a máme hotovo.
                    </p>

<pre>
$ <b>brew install python3</b>
</pre>

                    <h3>Linux</h3>
                    <p>
                        Spusť v příkazové řádce příkaz <code>python3 --version</code>.
                        Teď můžou nastat tři možnosti:
                        <ul>
                            <li><code>Python 3.5.2</code> (nebo 3.4.0, a vyšší): hotovo, máš nainstalováno</li>.
                            <li><code>Python 3.3.2</code> (nebo jiná verze nižší než 3.4): je potřeba doinstalovat Virtualenv</li>.
                            <li><code>bash: python3: command not found</code> (nebo podobná chyba): je potřeba doinstalovat Python 3; potom znovu zkus verzi a případně doinstaluj i Virtualenv</li>.
                        </ul>
                        Instalace záleží na distribuci; nejpoužívanější jsou tyto:
                    </p>
                </div>
            </div>
            <div class="row stuff">
                <div class="col-lg-6">
                    <h4>Ubuntu</h4>
<pre>
$ <b>sudo apt-get install python3</b>
</pre>
                </div>
                <div class="col-lg-6">
                    <h4>Fedora</h4>
<pre>
$ <b>sudo dnf install python3</b>
</pre>
                </div>
            </div>
            <div class="row stuff">
                <div class="col-lg-12">
                    Potřebuješ-li doinstalovat Virtualenv, nahraď <code>python3</code> za <code>python-virtualenv</code>.
                </div>
                <div class="col-lg-12">
                    Máš-li nainstalováno, spusť ještě příkaz <code>python3 -m tkinter</code> . Ukáže-li se okýnko, je vše v pořádku.
                    Jestli ne, nainstaluj ještě modul <em>tkinter</em>:
                </div>
            </div>
            <div class="row stuff">
                <div class="col-lg-6">
                    <h4>Ubuntu</h4>
<pre>
$ <b>sudo apt-get install python3-tkinter</b>
</pre>
                </div>
                <div class="col-lg-6">
                    <h4>Fedora</h4>
<pre>
$ <b>sudo dnf install python3-tk</b>
</pre>
                </div>
            </div>
            <div class="row stuff">
                <div class="col-lg-12">
                    <h1>Vytvoření prostředí</h1>
                    <p class="note">
                        Možná si říkáš, k čemu takové <strong>virtuální prostředí</strong> vlastně potřebuješ.
                        Je to proto, že se zapnutým virtuálním prostředím se všechny počítače budou (teoreticky)
                        chovat stejně, takže ve zbytku těchto materiálů již nemusí být 2-3 varianty každého příkazu! :)
                        <br>
                        V budoucnu využijeme druhou výhodu: každé virtuální prostředí je oddělené od ostatních,
                        takže když doinstalujeme nějakou knihovnu (rozšíření pro Python), projeví se to jen
                        v jednom virtuálním prostředí. Pokud by se při práci na projektu něco pokazilo,
                        neohrozí to další projekty ve tvém počítači.
                        <br>
                        Před prací na projektech PyLadies nezapomeň vždy virtuální prostředí zapnout.
                    </p>
                    </p>
                        Zvol si adresář (složku), ve které budeš mít soubory k PyLadies.
                        Na Windows to může být třeba <code>C:\PyLadies</code>, na Linuxu <code>/home/<i>jméno</i>/pyladies</code>.
                        Vytvoř ho a poznamenej si, kde je.
                        Já ho budu nazývat <code class="plhome">~/pyladies</code>;
                        takže vždycky, když uvidíš <code class="plhome">~/pyladies</code>,
                        doplň „svůj“ adresář.
                    </p>
                    </p>
                        Zvolený adresář bys po vytvoření neměla přesouvat jinam.
                        Proto ho nedoporučuji vytářet na Ploše.
                    </p>
                    <p class="note">
                        Kdybys někdy chtěla adresář přece jen přesunout,
                        musela bys virtuální prostředí (<code>venv</code>)
                        smazat a vytvořit nové.
                    </p>
                    </p>
                        Teď otevři příkazovou řádku
                        a příkazem <code>cd</code> se přepni do adresáře
                        <code class="plhome">~/pyladies</code>.
                        <em>(Pokud jsi na sraze a ještě jsme příkazovou řádku nevyzkoušeli,
                        můžeš se zeptat kouče, jak na to.)</em>
                        Pak zadej příkaz podle svého systému a verze Pythonu:
                    </p>
                </div>
            </div>
            <div class="row stuff">
                <div class="col-lg-4">
                    <h4>Windows, Python 3.6</h4>
<pre>
&gt; <b>py -3 -m venv venv</b>
</pre>
                </div>
                <div class="col-lg-4">
                    <h4>Linux/macOS, Python 3.4 a 3.5</h4>
<pre>
$ <b>python3 -m venv venv</b>
</pre>
                </div>
                <div class="col-lg-4">
                    <h4>Linux, starší Python</h4>
<pre>
$ <b>virtualenv -p python3 venv</b>
</pre>
                </div>
                <div class="col-lg-12">
                    <p class="note">
                        Znak <code>$</code> nebo <code>&gt;</code> vypíše počítač
                        sám, ty napiš jen to za ním!
                    </p>
                    <p>
                    Pokud Windows tvrdí, že neznají příkaz <em>python</em>,
                    poraď se s koučem. Typicky v takovém případě
                    musíš napsat celou cestu k Pythonu, jako
                    <code>C:\Users\<i>tvoje_jméno</i>\AppData\Local\Programs\Python\Python35\python</code>.
                    Cestu si ověř a celou dosaď do příkazu výše místo
                    <code>py -3</code>.
                    </p>
                    <p>
                       Pokud používáš starší Ubuntu (kolem 14.04), tak se může
                       stát, že inicializace prostředí selže.
                       Pak je potřeba postupovat podle <a href="http://askubuntu.com/questions/279959/how-to-create-a-virtualenv-with-python3-3-in-ubuntu">rady na askubuntu.com</a>.
                </div>
                <div class="col-lg-12">
                    <p>
                        Tím se nám vytvořil adresář <code><span class="plhome">~/pyladies</span>/venv</code>,
                        ve kterém jsou soubory s virtuálním prostředím.
                        Můžeš se podívat dovnitř, ale nikdy tam nic neměň.
                    </p>
                </div>
                <div class="col-lg-12">
                    <h1>Spuštění</h1>
                    <p>
                        Teď si ukážeme příkaz, který spustí virtuální prostředí.
                        Tenhle příkaz je důležitý: budeš ho zadávat vždycky,
                        když spustíš příkazovou řádku pro práci s Pythonem.
                        Zapiš si ho!
                    </p>
                </div>
            </div>
            <div class="row stuff">
                <div class="col-lg-6">
                    <h4>Windows</h4>
<pre>
&gt; <b><span class="plhome">~/pyladies</span>\venv\Scripts\activate</b>
</pre>
                </div>
                <div class="col-lg-6">
                    <h4>Unix</h4>
<pre>
$ <b>source <span class="plhome">~/pyladies</span>/venv/bin/activate</b>
</pre>
                </div>
                <div class="col-lg-12">
                    Po spuštění tohoto by se mělo na začátku příkazové řádky
                    (před <code>&gt;</code> nebo <code>$</code>) objevit slovo <code>(venv)</code>.
                </div>
                <div class="col-lg-12">
                    Nezbývá než – konečně – pustit samotný <code>python</code>!
<pre>
(venv)$ <b>python</b>
Python 3.4.0 (default, Jan 26 2014, 18:15:05)
[GCC 4.8.2 20131212 (Red Hat 4.8.2-7)] on linux
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt;
</pre>
                </div>
                <div class="col-lg-12">
                    Příkaz <code>python</code> vypíše několik informací.
                    Z prvního řádku se můžeš ujistit, že používáš Python 3.
                    Třemi zobáčky <code>&gt;&gt;&gt;</code> pak Python poprosí o instrukce.
                    Je to jako v příkazové řádce, ale místo příkazů jako
                    <code>cd</code> a <code>mkdir</code> budeme psát příkazy Pythonu.
                </div>
                <div class="col-lg-12">
                    Nejjednodušší příkaz Pythonu je prosté číslo. Zkus to:
<pre>
&gt;&gt;&gt; <b>1</b>
1
&gt;&gt;&gt; <b>42</b>
42
&gt;&gt;&gt; <b>-8.3</b>   <span class="comment"># (Python používá desetinnou tečku)</span>
-8.3
</pre>
                <div class="note">
                    Zobáčky <code>&gt;&gt;&gt;</code> i odpověď vypisuje sám Python,
                    nepiš je sama!
                    Zadej jen číslo a Enter.
                </div>
                    Čísla umí Python i sečítat. Třeba takhle:
<pre>
&gt;&gt;&gt; <b>8 + 2</b>
10
</pre>
                    Všimni si, že příkazy z příkazové řádky v Pythonu nefungují,
                    ačkoli okýnko vypadá skoro stejně:
<pre>
&gt;&gt;&gt; <b>whoami</b>
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
NameError: name 'whoami' is not defined
</pre>
                    Tohle je <em>chybová hláška</em>, která se objeví vždycky,
                    když uděláš něco špatně.
                    V průběhu kurzu jich uvidíš ještě spoustu,
                    takže si ji dobře prohlédni, ať ji příště poznáš.
                </div>
                <div class="col-lg-12">
                    Pokud ses dostala až sem, gratuluji! To nejhorší – instalaci – máš za sebou.
                    Stačí už jen zavřít Python a pak i samotnou příkazovou řádku.
                    V Pythonu se to dělá pomocí <code>quit()</code>, s prázdnými závorkami na konci.
<pre>
&gt;&gt;&gt; <b>quit()</b>
(venv)$
</pre>
                </div>
                <div class="col-lg-12">
                    Zobáčky <code>&gt;&gt;&gt;</code> se změnily na výzvu
                    příkazové řádky (která začíná <code>(venv)</code> a končí
                    <code>$</code> nebo <code>&gt;</code>).
                    Teď fungují příkazy jako <code>whoami</code> a
                    <code>cd</code>, ale příkazy Pythonu
                    jako <code>1 + 2</code> fungovat nebudou, dokud Python
                    opět nepustíš pomocí příkazu <code>python</code>.
                </div>
                <div class="col-lg-12">
                    Ukončit virtuální prostředí můžeš příkazem <code>deactivate</code> –
                    tentokrát bez závorek.
<pre>
(venv)$ <b>deactivate</b>
</pre>
                </div>
                <div class="col-lg-12">
                    Příkazovou řádku můžeš nakonec zavřít příkazem <code>exit</code>.
<pre>
$ <b>exit</b>
</pre>
                </div>
                <div class="col-lg-12">
                    Pro cvik si zkus celé okno zavřít, a pak Python znovu
                    spustit – nejdřív příkazovou řádku, pak virtuální prostředí,
                    potom Python samotný.
                    <br>
                    A máš-li vytištěné <a href="handout/handout.pdf">domácí projekty</a>,
                    poznač si příkaz na aktivaci virtuálního prostředí,
                    ať ho do příště nezapomeneš :)
                </div>
            </div>
            <div class="footer">
                <div>pro PyLadies Brno napsal Petr Viktorin, 2014</div>
                <div>Licence: <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a></div>
            </div>
        </div>
    </body>
</html>
